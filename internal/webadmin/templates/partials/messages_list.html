{{/* ABOUTME: HTMX partial for thread messages */}}
{{/* ABOUTME: Professional business design - displays messages and tool events */}}
{{if .Messages}}
{{range .Messages}}
{{if eq .Type "tool_use"}}
<div class="p-4 border-b border-warm-100 last:border-0 bg-warm-50/50">
    <div class="flex justify-between items-start mb-2">
        <div class="flex items-center gap-2">
            <span class="px-2.5 py-1 text-xs font-medium rounded-full bg-violet-100 text-violet-700">
                Tool
            </span>
            <span class="text-xs font-medium text-violet-700">{{.ToolName}}</span>
        </div>
        <span class="text-xs text-warm-400">{{.CreatedAt.Format "15:04:05"}}</span>
    </div>
    <pre class="text-warm-600 text-xs font-mono overflow-x-auto bg-warm-100 p-3 rounded-lg border border-warm-200 max-h-48 overflow-y-auto">{{.Content}}</pre>
</div>
{{else if eq .Type "tool_result"}}
<div class="p-4 border-b border-warm-100 last:border-0 bg-warm-50/50">
    <div class="flex justify-between items-start mb-2">
        <span class="px-2.5 py-1 text-xs font-medium rounded-full bg-emerald-100 text-emerald-700">
            Result
        </span>
        <span class="text-xs text-warm-400">{{.CreatedAt.Format "15:04:05"}}</span>
    </div>
    <pre class="text-warm-600 text-xs font-mono overflow-x-auto bg-warm-100 p-3 rounded-lg border border-warm-200 max-h-48 overflow-y-auto">{{.Content}}</pre>
</div>
{{else}}
<div class="p-4 border-b border-warm-100 last:border-0">
    <div class="flex justify-between items-start mb-2">
        <span class="text-xs font-semibold uppercase tracking-wider {{if eq .Sender "user"}}text-forest{{else}}text-warning{{end}}">
            {{.Sender}}
        </span>
        <span class="text-xs text-warm-400">{{.CreatedAt.Format "15:04:05"}}</span>
    </div>
    <div class="text-ink whitespace-pre-wrap text-sm">{{.Content}}</div>
</div>
{{end}}
{{end}}
{{else}}
<div class="flex flex-col items-center justify-center py-12 text-warm-400">
    <p class="text-sm font-medium">No messages</p>
</div>
{{end}}
