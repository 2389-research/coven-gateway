{{/* ABOUTME: HTMX partial for thread messages */}}
{{/* ABOUTME: Displays regular messages and tool usage events */}}
{{if .Messages}}
{{range .Messages}}
{{if eq .Type "tool_use"}}
<div class="p-4 border-b border-border last:border-0 bg-surface/50">
    <div class="flex justify-between items-start mb-2">
        <div class="flex items-center gap-2">
            <span class="px-2 py-0.5 text-xs font-mono font-semibold uppercase tracking-wider bg-violet-500/20 text-violet-400 border border-violet-500/30">
                TOOL
            </span>
            <span class="font-mono text-xs font-semibold text-violet-400">{{.ToolName}}</span>
        </div>
        <span class="font-mono text-xs text-text-muted">{{.CreatedAt.Format "15:04:05"}}</span>
    </div>
    <pre class="text-text-secondary text-xs font-mono overflow-x-auto bg-void/50 p-2 border border-border max-h-48 overflow-y-auto">{{.Content}}</pre>
</div>
{{else if eq .Type "tool_result"}}
<div class="p-4 border-b border-border last:border-0 bg-surface/50">
    <div class="flex justify-between items-start mb-2">
        <span class="px-2 py-0.5 text-xs font-mono font-semibold uppercase tracking-wider bg-emerald-500/20 text-emerald-400 border border-emerald-500/30">
            RESULT
        </span>
        <span class="font-mono text-xs text-text-muted">{{.CreatedAt.Format "15:04:05"}}</span>
    </div>
    <pre class="text-text-secondary text-xs font-mono overflow-x-auto bg-void/50 p-2 border border-border max-h-48 overflow-y-auto">{{.Content}}</pre>
</div>
{{else}}
<div class="p-4 border-b border-border last:border-0">
    <div class="flex justify-between items-start mb-2">
        <span class="font-mono text-xs font-semibold uppercase tracking-wider {{if eq .Sender "user"}}text-cyan{{else}}text-amber{{end}}">
            {{.Sender}}
        </span>
        <span class="font-mono text-xs text-text-muted">{{.CreatedAt.Format "15:04:05"}}</span>
    </div>
    <div class="text-text-primary whitespace-pre-wrap text-sm font-mono">{{.Content}}</div>
</div>
{{end}}
{{end}}
{{else}}
<div class="flex flex-col items-center justify-center py-12 text-text-muted">
    <p class="font-mono text-sm">No messages</p>
</div>
{{end}}
